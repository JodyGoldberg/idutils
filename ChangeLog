Mon Feb 20 16:18:47 1995  Greg McGary  <gkm@magilla.cichlid.com>

	* scanners.c (scanners, suffixes, init_scanners, get_scanner,
	set_scan_args, get_lang_name, get_filter, get_suffix): Fixed
	boundary conditions.

	* mkid.c (make_sibling_summary): Don't realloc if kid's sum_tokens
	is already large enough.  (scan_1_file): Ignore blank tokens.
	Avoid division by 0 (pinard@iro.umontreal.ca).  (write_idfile):
	Moved assertions & qsort to top.  Don't check for blank tokens--it
	can't happen.  (rehash): Prefix "Rehashing..." with "\n\t".

	* idtest: Test fid more rigorously.

	* idfile.c (init_idfile): Don't increment i for non-file args.

	* Makefile.in (DEFS, DIST_SHAR, AWK, bump-patch, bump-minor,
	bump-major, shar): Added.  (.PRECIOUS): Added configure, config.h
	config.h.in.

	* configure.in (DEPEND): Fixed portability (kazusi-m@is.aist-nara.ac.jp).
	(AC_CHECK_FUNCS(basename, dirname)): Added.
	* misc.h, misc.c: Made decl/defn of basename, dirname conditional.


Sun Feb 19 19:21:09 1995  Thomas Neumann  <tom@smart.ruhr.de>
 
 	* configure.in: Check for <sgtty.h>, not <sgttyb.h>.  *
	accconfig.h: Disbale HAVE_TERMIOS_H for NeXT, if HAVE_SGTTY_H is
	present.  * lid.c: Depend on HAVE_SGTTY_H, not HAVE_SGTTYB_H.
	(savetty): ANSI'fy arglist declaration.
 
Sat Feb 18 21:44:39 1995  Greg McGary  <gkm@magilla.cichlid.com>

	* Version 3.0.6 released.

	* Makefile.in, accconfig.h, mkid.c: Revised & simplified package
	name & version macros.

	* Makefile.in (DIST_MISC_FILES): Added version.texi, stamp-vti.
	(TAGS): Fixed.  (config.status): Removed dependency on config.cache.

	* acconfig.h: Added #ifndef _config_h_ ... #endif around file.
	(SIZEOF_INT, SIZEOF_CHAR, SIZEOF_SHORT, uint8_t, uint16_t,
	uint32_t, int32_t): Deleted.  (SIZEOF_LONG): Changed typedef name
	to intmin32_t and uintmin32_t; all uses changed.
	* configure.in (AC_CHECK_SIZEOF (int, short, char)): Deleted.
	* idfile.h (struct idhead): Dropped uint8_t, uint16_t,
	uint32_t, int32_t, added intmin32_t & uintmin32_t.
	* idfile.c (io_idhead, io_write, io_read): Use constants to express
	integer sizes for I/O on struct idhead.

	* idtest, Makefile.in (stamp-vti): Dumbed-down shell code for portability.

	* lid.c (enum radix): Deleted trailing comma.

	* scanners.c (ctype_c, ctype_asm, ctype_text): Made unsigned.

Thu Feb 16 23:55:44 EST 1995  Greg McGary  <gkm@magilla.cichlid.com>

	* Version 3.0.5 released.

	* iid.y (main): Eliminate useless Do1 variable.

	* filenames.c (kshgetwd): Conditionally use getcwd or getwd.

	* acconfig.h: Added typedefs of uint8_t, uint16_t, uint32_t, int32_t.
	* idfile.h (struct idhead), idfile.c (io_read, io_write): Use
	uint8_t, uint16_t, uint32_t, int32_t.

	* lid.c (savetty, restoretty, linetty, chartty): Handle POSIX
	termios properly.  (HAVE_SYS_IOCTL_H): #include <sys/ioctl.h> if
	!HAVE_TERMIOS_H.

	* configure.in (OLD_PATCH_LEVEL, MAJOR_VERSION, MINOR_VERSION,
	FULL_VERSION, AC_CHECK_SIZEOF(int, long, short, char),
	AC_CHECK_HEADERS(regex.h), AC_CHECK_FUNCS(regcomp regcmp): Added.

	* mkdirhier: Added.

	* Makefile.in (DIST_MISC_FILES): Added ChangeLog.  (depend):
	$(DEPEND) and Makefile are now .PRECIOUS.  (dist-dir-links):
	Added.  (check, install, uninstall): Fixed.  (install): Use
	mkdirhier.
